var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.NativeAppearanceProvider=NativeAppearanceProvider;exports.NativeAppearance=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var React=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _SyntheticPlatformEmitter=_interopRequireDefault(require("./web/SyntheticPlatformEmitter"));var _jsxFileName="/Users/brentvatne/code/react-native-appearance/src/NativeAppearance.web.tsx";function getQuery(){if(typeof window==='undefined'||!window.matchMedia)return null;return window.matchMedia('(prefers-color-scheme: dark)');}function isMediaQueryList(query){return query&&query.addListener&&query.removeListener&&typeof query.matches==='boolean';}var NativeAppearance={get name(){return'NativeAppearance';},get initialPreferences(){var query=getQuery();if(isMediaQueryList(query)){return{colorScheme:query.matches?'dark':'light'};}return{colorScheme:'no-preference'};}};exports.NativeAppearance=NativeAppearance;function NativeAppearanceProvider(props){React.useEffect(function(){var query=getQuery();function listener(_ref){var matches=_ref.matches;var colorScheme=matches?'dark':'light';_SyntheticPlatformEmitter.default.emit('appearanceChanged',{colorScheme:colorScheme});}if(query)query.addListener(listener);return function(){if(query){query.removeListener(listener);}};},[]);return React.createElement(_reactNative.View,(0,_extends2.default)({style:{flex:1}},props,{__source:{fileName:_jsxFileName,lineNumber:51}}));};
//# sourceMappingURL=NativeAppearance.web.js.map