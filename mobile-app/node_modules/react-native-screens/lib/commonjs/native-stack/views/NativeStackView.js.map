{"version":3,"sources":["NativeStackView.tsx"],"names":["Screen","ScreenComponent","NativeStackView","state","navigation","descriptors","colors","styles","container","routes","map","route","options","render","renderScene","key","gestureEnabled","stackPresentation","stackAnimation","contentStyle","StyleSheet","absoluteFill","Platform","OS","emit","type","target","dispatch","StackActions","pop","source","backgroundColor","background","undefined","create","flex"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAKA;;AAKA;;;;;;;;;;;;;;;;AAMA,MAAMA,MAAM,GAAIC,0BAAhB;;AAQe,SAASC,eAAT,CAAyB;AACtCC,EAAAA,KADsC;AAEtCC,EAAAA,UAFsC;AAGtCC,EAAAA;AAHsC,CAAzB,EAIL;AACR,QAAM;AAAEC,IAAAA;AAAF,MAAa,uBAAnB;AAEA,sBACE,oBAAC,+BAAD;AAAa,IAAA,KAAK,EAAEC,MAAM,CAACC;AAA3B,KACGL,KAAK,CAACM,MAAN,CAAaC,GAAb,CAAkBC,KAAD,IAAW;AAC3B,UAAM;AAAEC,MAAAA,OAAF;AAAWC,MAAAA,MAAM,EAAEC;AAAnB,QAAmCT,WAAW,CAACM,KAAK,CAACI,GAAP,CAApD;AACA,UAAM;AACJC,MAAAA,cADI;AAEJC,MAAAA,iBAAiB,GAAG,MAFhB;AAGJC,MAAAA,cAHI;AAIJC,MAAAA;AAJI,QAKFP,OALJ;AAOA,wBACE,oBAAC,MAAD;AACE,MAAA,GAAG,EAAED,KAAK,CAACI,GADb;AAEE,MAAA,KAAK,EAAEK,wBAAWC,YAFpB;AAGE,MAAA,cAAc,EAAEC,sBAASC,EAAT,KAAgB,SAAhB,GAA4B,KAA5B,GAAoCP,cAHtD;AAIE,MAAA,iBAAiB,EAAEC,iBAJrB;AAKE,MAAA,cAAc,EAAEC,cALlB;AAME,MAAA,QAAQ,EAAE,MAAM;AACdd,QAAAA,UAAU,CAACoB,IAAX,CAAgB;AACdC,UAAAA,IAAI,EAAE,QADQ;AAEdC,UAAAA,MAAM,EAAEf,KAAK,CAACI;AAFA,SAAhB;AAID,OAXH;AAYE,MAAA,WAAW,EAAE,MAAM;AACjBX,QAAAA,UAAU,CAACoB,IAAX,CAAgB;AACdC,UAAAA,IAAI,EAAE,SADQ;AAEdC,UAAAA,MAAM,EAAEf,KAAK,CAACI;AAFA,SAAhB;AAKAX,QAAAA,UAAU,CAACuB,QAAX,iCACKC,qBAAaC,GAAb,EADL;AAEEC,UAAAA,MAAM,EAAEnB,KAAK,CAACI,GAFhB;AAGEW,UAAAA,MAAM,EAAEvB,KAAK,CAACY;AAHhB;AAKD;AAvBH,oBAwBE,oBAAC,qBAAD,eAAkBH,OAAlB;AAA2B,MAAA,KAAK,EAAED;AAAlC,OAxBF,eAyBE,oBAAC,iBAAD;AACE,MAAA,KAAK,EAAE,CACLJ,MAAM,CAACC,SADF,EAEL;AACEuB,QAAAA,eAAe,EACbd,iBAAiB,KAAK,kBAAtB,GACIX,MAAM,CAAC0B,UADX,GAEIC;AAJR,OAFK,EAQLd,YARK;AADT,OAWGL,WAAW,EAXd,CAzBF,CADF;AAyCD,GAlDA,CADH,CADF;AAuDD;;AAED,MAAMP,MAAM,GAAGa,wBAAWc,MAAX,CAAkB;AAC/B1B,EAAAA,SAAS,EAAE;AACT2B,IAAAA,IAAI,EAAE;AADG;AADoB,CAAlB,CAAf","sourcesContent":["import * as React from 'react';\nimport { View, StyleSheet, Platform } from 'react-native';\nimport {\n  ScreenStack,\n  Screen as ScreenComponent,\n  ScreenProps,\n} from 'react-native-screens';\nimport {\n  StackNavigationState,\n  StackActions,\n  useTheme,\n} from '@react-navigation/native';\nimport HeaderConfig from './HeaderConfig';\nimport {\n  NativeStackNavigationHelpers,\n  NativeStackDescriptorMap,\n} from '../types';\n\nconst Screen = (ScreenComponent as unknown) as React.ComponentType<ScreenProps>;\n\ntype Props = {\n  state: StackNavigationState;\n  navigation: NativeStackNavigationHelpers;\n  descriptors: NativeStackDescriptorMap;\n};\n\nexport default function NativeStackView({\n  state,\n  navigation,\n  descriptors,\n}: Props) {\n  const { colors } = useTheme();\n\n  return (\n    <ScreenStack style={styles.container}>\n      {state.routes.map((route) => {\n        const { options, render: renderScene } = descriptors[route.key];\n        const {\n          gestureEnabled,\n          stackPresentation = 'push',\n          stackAnimation,\n          contentStyle,\n        } = options;\n\n        return (\n          <Screen\n            key={route.key}\n            style={StyleSheet.absoluteFill}\n            gestureEnabled={Platform.OS === 'android' ? false : gestureEnabled}\n            stackPresentation={stackPresentation}\n            stackAnimation={stackAnimation}\n            onAppear={() => {\n              navigation.emit({\n                type: 'appear',\n                target: route.key,\n              });\n            }}\n            onDismissed={() => {\n              navigation.emit({\n                type: 'dismiss',\n                target: route.key,\n              });\n\n              navigation.dispatch({\n                ...StackActions.pop(),\n                source: route.key,\n                target: state.key,\n              });\n            }}>\n            <HeaderConfig {...options} route={route} />\n            <View\n              style={[\n                styles.container,\n                {\n                  backgroundColor:\n                    stackPresentation !== 'transparentModal'\n                      ? colors.background\n                      : undefined,\n                },\n                contentStyle,\n              ]}>\n              {renderScene()}\n            </View>\n          </Screen>\n        );\n      })}\n    </ScreenStack>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n});\n"]}